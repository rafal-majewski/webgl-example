var A=Object.defineProperty;var F=(e,t,n)=>t in e?A(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var i=(e,t,n)=>F(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const a of c.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(s){if(s.ep)return;s.ep=!0;const c=n(s);fetch(s.href,c)}})();function P(e){return[e.x,e.y,e.z]}function B(e){return[e.red,e.green,e.blue]}function M(e){const t=P(e.position),n=B(e.color);return[...t,...n]}function E(e){const t=M(e.vertex1),n=M(e.vertex2),o=M(e.vertex3);return[...t,...n,...o]}function L(e){return e.flatMap(t=>E(t))}function N(e){const t=L(e);return new Float32Array(t)}function O(e,t,n){const o=e.createProgram();return e.attachShader(o,t),e.attachShader(o,n),e.linkProgram(o),o}function w(e,t,n){const o=e.createShader(t);return e.shaderSource(o,n),e.compileShader(o),o}function I(e,t){const n=w(e,e.VERTEX_SHADER,t.vertex),o=w(e,e.FRAGMENT_SHADER,t.fragment);return O(e,n,o)}function j(e){return`#version 300 es
precision mediump float;
in vec3 ${e};
out vec4 color;

void main() {
	color = vec4(${e}, 1.0);
}`}function q(e,t,n,o){return`#version 300 es
in vec3 ${e};
in vec3 ${t};
uniform mat4 ${n};
out vec3 ${o};

void main() {
	${o} = ${t};
	gl_Position = ${n} * vec4(${e}, 1.0);
}`}const S="v_color";function $(e,t,n){const o=q(e,t,n,S),s=j(S);return{vertex:o,fragment:s}}function H(e){return[[1/Math.tan(e.horizontalRadians/2),0,0,0],[0,1/Math.tan(e.verticalRadians/2),0,0],[0,0,1,0],[0,0,0,1]]}function U(e){return[[Math.cos(e),0,Math.sin(e),0],[0,1,0,0],[-Math.sin(e),0,Math.cos(e),0],[0,0,0,1]]}function Y(e,t){return[[1,0,0,0],[0,1,0,0],[0,0,(t+e)/(t-e),1],[0,0,-2*(t*e)/(t-e),0]]}function W(e){return[[1,0,0,0],[0,1,0,0],[0,0,1,0],[-e.x,-e.y,-e.z,1]]}function G(e){return[[1,0,0,0],[0,Math.cos(e),Math.sin(e),0],[0,-Math.sin(e),Math.cos(e),0],[0,0,0,1]]}function K(e,t){return[[e[0][0]*t[0][0]+e[0][1]*t[1][0]+e[0][2]*t[2][0]+e[0][3]*t[3][0],e[0][0]*t[0][1]+e[0][1]*t[1][1]+e[0][2]*t[2][1]+e[0][3]*t[3][1],e[0][0]*t[0][2]+e[0][1]*t[1][2]+e[0][2]*t[2][2]+e[0][3]*t[3][2],e[0][0]*t[0][3]+e[0][1]*t[1][3]+e[0][2]*t[2][3]+e[0][3]*t[3][3]],[e[1][0]*t[0][0]+e[1][1]*t[1][0]+e[1][2]*t[2][0]+e[1][3]*t[3][0],e[1][0]*t[0][1]+e[1][1]*t[1][1]+e[1][2]*t[2][1]+e[1][3]*t[3][1],e[1][0]*t[0][2]+e[1][1]*t[1][2]+e[1][2]*t[2][2]+e[1][3]*t[3][2],e[1][0]*t[0][3]+e[1][1]*t[1][3]+e[1][2]*t[2][3]+e[1][3]*t[3][3]],[e[2][0]*t[0][0]+e[2][1]*t[1][0]+e[2][2]*t[2][0]+e[2][3]*t[3][0],e[2][0]*t[0][1]+e[2][1]*t[1][1]+e[2][2]*t[2][1]+e[2][3]*t[3][1],e[2][0]*t[0][2]+e[2][1]*t[1][2]+e[2][2]*t[2][2]+e[2][3]*t[3][2],e[2][0]*t[0][3]+e[2][1]*t[1][3]+e[2][2]*t[2][3]+e[2][3]*t[3][3]],[e[3][0]*t[0][0]+e[3][1]*t[1][0]+e[3][2]*t[2][0]+e[3][3]*t[3][0],e[3][0]*t[0][1]+e[3][1]*t[1][1]+e[3][2]*t[2][1]+e[3][3]*t[3][1],e[3][0]*t[0][2]+e[3][1]*t[1][2]+e[3][2]*t[2][2]+e[3][3]*t[3][2],e[3][0]*t[0][3]+e[3][1]*t[1][3]+e[3][2]*t[2][3]+e[3][3]*t[3][3]]]}function X(...e){return e.reduce((t,n)=>K(t,n))}const J=.1,Q=300;function Z(e){const t=H(e.fieldOfView),n=Y(J,Q),o=W(e.position),s=U(e.orientation.horizontalRadians),c=G(e.orientation.verticalRadians),a=X(o,s,c,n,t);return new Float32Array(a.flat())}const r=class r{constructor(t,n){i(this,"gl");i(this,"uniformProjectionLocation");this.gl=t,this.uniformProjectionLocation=n}static create(t){t.clearColor(0,0,0,1);const n=$(r.attributePositionVariableName,r.attributeColorVariableName,r.uniformProjectionVariableName),o=I(t,n);t.useProgram(o);const s=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,s);const c=t.getAttribLocation(o,r.attributePositionVariableName);t.enableVertexAttribArray(c),t.vertexAttribPointer(c,r.positionSize,t.FLOAT,!1,r.strideBytes,r.positionOffsetBytes);const a=t.getAttribLocation(o,r.attributeColorVariableName);t.enableVertexAttribArray(a),t.vertexAttribPointer(a,r.colorSize,t.FLOAT,!1,r.strideBytes,r.colorOffsetBytes);const f=t.getUniformLocation(o,r.uniformProjectionVariableName);return t.enable(t.DEPTH_TEST),t.depthFunc(t.LESS),new r(t,f)}paint(t,n){this.gl.clear(this.gl.COLOR_BUFFER_BIT);const o=N(t);this.gl.bufferData(this.gl.ARRAY_BUFFER,o,this.gl.STATIC_DRAW);const s=Z(n);this.gl.uniformMatrix4fv(this.uniformProjectionLocation,!1,s),this.gl.drawArrays(this.gl.TRIANGLES,0,t.length*r.vertexInTriangleCount)}resize(){const t=this.gl.canvas,n=t.parentElement;t.width=n.clientWidth,t.height=n.clientHeight,this.gl.viewport(0,0,t.width,t.height)}getCanvasDimensions(){const t=this.gl.canvas;return{width:t.width,height:t.height}}};i(r,"dimensionInCoordinatesCount",3),i(r,"componentInColorCount",3),i(r,"vertexInTriangleCount",3),i(r,"attributePositionVariableName","a_position"),i(r,"positionSize",r.dimensionInCoordinatesCount),i(r,"positionOffsetBytes",0),i(r,"attributeColorVariableName","a_color"),i(r,"colorSize",r.componentInColorCount),i(r,"colorOffsetBytes",r.positionSize*Float32Array.BYTES_PER_ELEMENT),i(r,"strideBytes",(r.positionSize+r.colorSize)*Float32Array.BYTES_PER_ELEMENT),i(r,"uniformProjectionVariableName","u_projection");let g=r;function k(e,t){return{verticalRadians:Math.min(t,Math.atan(Math.tan(t/2)*(e.height/e.width))*2),horizontalRadians:Math.min(t,Math.atan(Math.tan(t/2)*(e.width/e.height))*2)}}function _(){return{horizontalRadians:3e-4*Date.now()+Math.PI,verticalRadians:.05*Math.sin(.003*Date.now())}}const v=3;function m(){return{x:v*Math.sin(3e-4*Date.now()),y:1*Math.sin(.001*Date.now()),z:v*Math.cos(3e-4*Date.now())}}function b(e,t){const n=k(e,t),o=m(),s=_();return{position:o,orientation:s,fieldOfView:n}}function h(e,t,n,o){return[{vertex1:e,vertex2:t,vertex3:n},{vertex1:e,vertex2:n,vertex3:o}]}function x(){return{position:{x:-.5*(1+(1+Math.sin(.002*Date.now()))/2),y:-.5*(1+(1+Math.sin(.002*Date.now()))/2),z:.5*(1+(1+Math.sin(.002*Date.now()))/2)},color:{red:0,green:0,blue:1}}}function ee(){return{position:{x:-.5*(1+(1+Math.sin(.002*Date.now()))/2),y:-.5*(1+(1+Math.sin(.002*Date.now()))/2),z:-.5*(1+(1+Math.sin(.002*Date.now()))/2)},color:{red:0,green:0,blue:0}}}function te(){return{position:{x:-.5*(1+(1+Math.sin(.002*Date.now()))/2),y:.5*(1+(1+Math.sin(.002*Date.now()))/2),z:.5*(1+(1+Math.sin(.002*Date.now()))/2)},color:{red:0,green:1,blue:1}}}function ne(){return{position:{x:-.5*(1+(1+Math.sin(.002*Date.now()))/2),y:.5*(1+(1+Math.sin(.002*Date.now()))/2),z:-.5*(1+(1+Math.sin(.002*Date.now()))/2)},color:{red:0,green:1,blue:0}}}function oe(){return{position:{x:.5*(1+(1+Math.sin(.002*Date.now()))/2),y:-.5*(1+(1+Math.sin(.002*Date.now()))/2),z:.5*(1+(1+Math.sin(.002*Date.now()))/2)},color:{red:1,green:0,blue:1}}}function re(){return{position:{x:.5*(1+(1+Math.sin(.002*Date.now()))/2),y:-.5*(1+(1+Math.sin(.002*Date.now()))/2),z:-.5*(1+(1+Math.sin(.002*Date.now()))/2)},color:{red:1,green:0,blue:0}}}function se(){return{position:{x:.5*(1+(1+Math.sin(.002*Date.now()))/2),y:.5*(1+(1+Math.sin(.002*Date.now()))/2),z:.5*(1+(1+Math.sin(.002*Date.now()))/2)},color:{red:1,green:1,blue:1}}}function ce(){return{position:{x:.5*(1+(1+Math.sin(.002*Date.now()))/2),y:.5*(1+(1+Math.sin(.002*Date.now()))/2),z:-.5*(1+(1+Math.sin(.002*Date.now()))/2)},color:{red:1,green:1,blue:0}}}function z(){const e=ee(),t=x(),n=ne(),o=te(),s=re(),c=oe(),a=ce(),f=se(),C=h(e,s,c,t),R=h(n,a,f,o),V=h(e,n,o,t),D=h(s,a,f,c),T=h(e,s,a,n),y=h(t,c,f,o);return[...C,...R,...V,...D,...T,...y]}const ie=document.getElementById("canvas"),ae=ie.getContext("webgl2"),u=g.create(ae);let d=z();u.resize();const ue=u.getCanvasDimensions(),p=.7*Math.PI;let l=b(ue,p);u.paint(d,l);window.addEventListener("resize",function(){u.resize();const t=u.getCanvasDimensions();l=b(t,p),u.paint(d,l)});requestAnimationFrame(function e(){d=z();const t=u.getCanvasDimensions();l=b(t,p),u.paint(d,l),requestAnimationFrame(e)});
