var F=Object.defineProperty;var T=(e,t,o)=>t in e?F(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var i=(e,t,o)=>T(e,typeof t!="symbol"?t+"":t,o);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))n(c);new MutationObserver(c=>{for(const s of c)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function o(c){const s={};return c.integrity&&(s.integrity=c.integrity),c.referrerPolicy&&(s.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?s.credentials="include":c.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(c){if(c.ep)return;c.ep=!0;const s=o(c);fetch(c.href,s)}})();function y(e){return[e.x,e.y,e.z]}function B(e){return[e.red,e.green,e.blue]}function d(e){const t=y(e.position),o=B(e.color);return[...t,...o]}function D(e){const t=d(e.vertex1),o=d(e.vertex2),n=d(e.vertex3);return[...t,...o,...n]}function E(e){return e.flatMap(t=>D(t))}function L(e){const t=E(e);return new Float32Array(t)}function N(e,t,o){const n=e.createProgram();return e.attachShader(n,t),e.attachShader(n,o),e.linkProgram(n),n}function p(e,t,o){const n=e.createShader(t);return e.shaderSource(n,o),e.compileShader(n),n}function O(e,t){const o=p(e,e.VERTEX_SHADER,t.vertex),n=p(e,e.FRAGMENT_SHADER,t.fragment);return N(e,o,n)}function I(e){return`#version 300 es
precision mediump float;
in vec3 ${e};
out vec4 color;

void main() {
	color = vec4(${e}, 1.0);
}`}function j(e,t,o,n){return`#version 300 es
in vec3 ${e};
in vec3 ${t};
uniform mat4 ${o};
out vec3 ${n};

void main() {
	${n} = ${t};
	gl_Position = ${o} * vec4(${e}, 1.0);
}`}const g="v_color";function q(e,t,o){const n=j(e,t,o,g),c=I(g);return{vertex:n,fragment:c}}function $(e){return[[1/Math.tan(e.horizontalRadians/2),0,0,0],[0,1/Math.tan(e.verticalRadians/2),0,0],[0,0,1,0],[0,0,0,1]]}function H(e){return[[Math.cos(e),0,Math.sin(e),0],[0,1,0,0],[-Math.sin(e),0,Math.cos(e),0],[0,0,0,1]]}function U(e,t){return[[1,0,0,0],[0,1,0,0],[0,0,(t+e)/(t-e),1],[0,0,-2*(t*e)/(t-e),0]]}function Y(e){return[[1,0,0,0],[0,1,0,0],[0,0,1,0],[-e.x,-e.y,-e.z,1]]}function W(e){return[[1,0,0,0],[0,Math.cos(e),Math.sin(e),0],[0,-Math.sin(e),Math.cos(e),0],[0,0,0,1]]}function G(e,t){return[[e[0][0]*t[0][0]+e[0][1]*t[1][0]+e[0][2]*t[2][0]+e[0][3]*t[3][0],e[0][0]*t[0][1]+e[0][1]*t[1][1]+e[0][2]*t[2][1]+e[0][3]*t[3][1],e[0][0]*t[0][2]+e[0][1]*t[1][2]+e[0][2]*t[2][2]+e[0][3]*t[3][2],e[0][0]*t[0][3]+e[0][1]*t[1][3]+e[0][2]*t[2][3]+e[0][3]*t[3][3]],[e[1][0]*t[0][0]+e[1][1]*t[1][0]+e[1][2]*t[2][0]+e[1][3]*t[3][0],e[1][0]*t[0][1]+e[1][1]*t[1][1]+e[1][2]*t[2][1]+e[1][3]*t[3][1],e[1][0]*t[0][2]+e[1][1]*t[1][2]+e[1][2]*t[2][2]+e[1][3]*t[3][2],e[1][0]*t[0][3]+e[1][1]*t[1][3]+e[1][2]*t[2][3]+e[1][3]*t[3][3]],[e[2][0]*t[0][0]+e[2][1]*t[1][0]+e[2][2]*t[2][0]+e[2][3]*t[3][0],e[2][0]*t[0][1]+e[2][1]*t[1][1]+e[2][2]*t[2][1]+e[2][3]*t[3][1],e[2][0]*t[0][2]+e[2][1]*t[1][2]+e[2][2]*t[2][2]+e[2][3]*t[3][2],e[2][0]*t[0][3]+e[2][1]*t[1][3]+e[2][2]*t[2][3]+e[2][3]*t[3][3]],[e[3][0]*t[0][0]+e[3][1]*t[1][0]+e[3][2]*t[2][0]+e[3][3]*t[3][0],e[3][0]*t[0][1]+e[3][1]*t[1][1]+e[3][2]*t[2][1]+e[3][3]*t[3][1],e[3][0]*t[0][2]+e[3][1]*t[1][2]+e[3][2]*t[2][2]+e[3][3]*t[3][2],e[3][0]*t[0][3]+e[3][1]*t[1][3]+e[3][2]*t[2][3]+e[3][3]*t[3][3]]]}function K(...e){return e.reduce((t,o)=>G(t,o))}const X=.1,J=300;function Q(e){const t=$(e.fieldOfView),o=U(X,J),n=Y(e.position),c=H(e.orientation.horizontalRadians),s=W(e.orientation.verticalRadians),a=K(n,c,s,o,t);return new Float32Array(a.flat())}const r=class r{constructor(t,o){i(this,"gl");i(this,"uniformProjectionLocation");this.gl=t,this.uniformProjectionLocation=o}static create(t){t.clearColor(0,0,0,1);const o=q(r.attributePositionVariableName,r.attributeColorVariableName,r.uniformProjectionVariableName),n=O(t,o);t.useProgram(n);const c=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,c);const s=t.getAttribLocation(n,r.attributePositionVariableName);t.enableVertexAttribArray(s),t.vertexAttribPointer(s,r.positionSize,t.FLOAT,!1,r.strideBytes,r.positionOffsetBytes);const a=t.getAttribLocation(n,r.attributeColorVariableName);t.enableVertexAttribArray(a),t.vertexAttribPointer(a,r.colorSize,t.FLOAT,!1,r.strideBytes,r.colorOffsetBytes);const f=t.getUniformLocation(n,r.uniformProjectionVariableName);return t.enable(t.DEPTH_TEST),t.depthFunc(t.LESS),new r(t,f)}paint(t,o){this.gl.clear(this.gl.COLOR_BUFFER_BIT);const n=L(t);this.gl.bufferData(this.gl.ARRAY_BUFFER,n,this.gl.STATIC_DRAW);const c=Q(o);this.gl.uniformMatrix4fv(this.uniformProjectionLocation,!1,c),this.gl.drawArrays(this.gl.TRIANGLES,0,t.length*r.vertexInTriangleCount)}resize(){const t=this.gl.canvas,o=t.parentElement;t.width=o.clientWidth,t.height=o.clientHeight,this.gl.viewport(0,0,t.width,t.height)}resizeAndPaint(t,o){this.resize(),this.paint(t,o)}};i(r,"dimensionInCoordinatesCount",3),i(r,"componentInColorCount",3),i(r,"vertexInTriangleCount",3),i(r,"attributePositionVariableName","a_position"),i(r,"positionSize",r.dimensionInCoordinatesCount),i(r,"positionOffsetBytes",0),i(r,"attributeColorVariableName","a_color"),i(r,"colorSize",r.componentInColorCount),i(r,"colorOffsetBytes",r.positionSize*Float32Array.BYTES_PER_ELEMENT),i(r,"strideBytes",(r.positionSize+r.colorSize)*Float32Array.BYTES_PER_ELEMENT),i(r,"uniformProjectionVariableName","u_projection");let M=r;const Z={horizontalRadians:.5*Math.PI,verticalRadians:.5*Math.PI};function k(){return{horizontalRadians:3e-4*Date.now()+Math.PI,verticalRadians:.05*Math.sin(.003*Date.now())}}const w=3;function _(){return{x:w*Math.sin(3e-4*Date.now()),y:1*Math.sin(.001*Date.now()),z:w*Math.cos(3e-4*Date.now())}}function S(){const e=_(),t=k();return{position:e,orientation:t,fieldOfView:Z}}function u(e,t,o,n){return[{vertex1:e,vertex2:t,vertex3:o},{vertex1:e,vertex2:o,vertex3:n}]}function m(){return{position:{x:-.5*(1+(1+Math.sin(.002*Date.now()))/2),y:-.5*(1+(1+Math.sin(.002*Date.now()))/2),z:.5*(1+(1+Math.sin(.002*Date.now()))/2)},color:{red:0,green:0,blue:1}}}function x(){return{position:{x:-.5*(1+(1+Math.sin(.002*Date.now()))/2),y:-.5*(1+(1+Math.sin(.002*Date.now()))/2),z:-.5*(1+(1+Math.sin(.002*Date.now()))/2)},color:{red:0,green:0,blue:0}}}function ee(){return{position:{x:-.5*(1+(1+Math.sin(.002*Date.now()))/2),y:.5*(1+(1+Math.sin(.002*Date.now()))/2),z:.5*(1+(1+Math.sin(.002*Date.now()))/2)},color:{red:0,green:1,blue:1}}}function te(){return{position:{x:-.5*(1+(1+Math.sin(.002*Date.now()))/2),y:.5*(1+(1+Math.sin(.002*Date.now()))/2),z:-.5*(1+(1+Math.sin(.002*Date.now()))/2)},color:{red:0,green:1,blue:0}}}function oe(){return{position:{x:.5*(1+(1+Math.sin(.002*Date.now()))/2),y:-.5*(1+(1+Math.sin(.002*Date.now()))/2),z:.5*(1+(1+Math.sin(.002*Date.now()))/2)},color:{red:1,green:0,blue:1}}}function ne(){return{position:{x:.5*(1+(1+Math.sin(.002*Date.now()))/2),y:-.5*(1+(1+Math.sin(.002*Date.now()))/2),z:-.5*(1+(1+Math.sin(.002*Date.now()))/2)},color:{red:1,green:0,blue:0}}}function re(){return{position:{x:.5*(1+(1+Math.sin(.002*Date.now()))/2),y:.5*(1+(1+Math.sin(.002*Date.now()))/2),z:.5*(1+(1+Math.sin(.002*Date.now()))/2)},color:{red:1,green:1,blue:1}}}function ce(){return{position:{x:.5*(1+(1+Math.sin(.002*Date.now()))/2),y:.5*(1+(1+Math.sin(.002*Date.now()))/2),z:-.5*(1+(1+Math.sin(.002*Date.now()))/2)},color:{red:1,green:1,blue:0}}}function z(){const e=x(),t=m(),o=te(),n=ee(),c=ne(),s=oe(),a=ce(),f=re(),v=u(e,c,s,t),R=u(o,a,f,n),V=u(e,o,n,t),C=u(c,a,f,s),A=u(e,c,a,o),P=u(t,s,f,n);return[...v,...R,...V,...C,...A,...P]}const se=document.getElementById("canvas"),ie=se.getContext("webgl2"),b=M.create(ie);let h=z(),l=S();b.resizeAndPaint(h,l);window.addEventListener("resize",function(){b.resizeAndPaint(h,l)});requestAnimationFrame(function e(){h=z(),l=S(),b.paint(h,l),requestAnimationFrame(e)});
